<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Approach to Correcting Misspelt Local Government Areas • naijR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Approach to Correcting Misspelt Local Government Areas">
<meta property="og:description" content="naijR">
<meta property="og:image" content="http://brovic.github.io/naijR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-174769638-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-174769638-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">naijR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/interactive.html">Approach to Correcting Misspelt Local Government Areas</a>
    </li>
    <li>
      <a href="../articles/nigeria-maps.html">nigeria-maps</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/BroVic/naijR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Approach to Correcting Misspelt Local Government Areas</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/BroVic/naijR/blob/HEAD/vignettes/interactive.Rmd" class="external-link"><code>vignettes/interactive.Rmd</code></a></small>
      <div class="hidden name"><code>interactive.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>Nigeria has 774 Local Government Areas (LGAs). There are a number of factors that can make working with them challenging:</p>
<ol style="list-style-type: decimal">
<li>Some LGAs share the same name with their respective States e.g. Bauchi LGA in Bauchi State, and this can lead to wrong application of the data.</li>
<li>Some LGAs bear the same name although they are in different States, e.g. Obi LGA in Benue and Nasarawa States.</li>
<li>LGA spelling discrepancies are rife in the literature, and believe it or not, even in official government documents.</li>
</ol>
</div>
<div class="section level2">
<h2 id="a-proposed-solution">A proposed solution<a class="anchor" aria-label="anchor" href="#a-proposed-solution"></a>
</h2>
<p>The function <code>fix_region</code> has methods that are designed to address spelling errors LGAs<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>. These fixes can be carried out in 3 incremental phases; if the user cannot effect the corrections at a particular level s/he can proceed to the next stage. The phases are as follows:</p>
<ol style="list-style-type: decimal">
<li>Automatic</li>
<li>Interactive</li>
<li>Manual</li>
</ol>
<div class="section level4">
<h4 id="automatic-fixes">1. Automatic fixes<a class="anchor" aria-label="anchor" href="#automatic-fixes"></a>
</h4>
<p>When the spelling error is slight and unambiguous, the function automatically effects the repair. However, when there is only a single misspelt LGA, and especially if it is supplied as a string, <code>fix_region</code> will signal an error.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://brovic.github.io/naijR/" class="external-link">naijR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="st">"Legos Island"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `fix_region()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Incorrect region name(s); consider reconstructing 'x' with `states()`</span></span>
<span><span class="co">#&gt;   or `lgas()` for a more reliable fix</span></span></code></pre></div>
<p>The thinking is that an automated solution may not be necessary for a single value that was probably provided interactively.</p>
<p>When another LGA is added, such that the argument passed to the function is a character vector with more that one element:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Legos Island"</span>, <span class="st">"Amuwo-Odofin"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Successful fix(es):</span></span>
<span><span class="co">#&gt; -------------------</span></span>
<span><span class="co">#&gt; * Legos Island =&gt; Lagos Island</span></span></code></pre></div>
<p>Sometimes when we use a character vector to perform this check, the function <code>fix_region</code> may find it difficult to decide on what fixes to apply. In such instances, the best thing is to convert the vector into an <code>lgas</code> object.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Legos Island"</span>, <span class="st">"Amuwo Odofin"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="va">chars</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `fix_region()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Incorrect region name(s); consider reconstructing 'x' with `states()`</span></span>
<span><span class="co">#&gt;   or `lgas()` for a more reliable fix</span></span>
<span></span>
<span><span class="co"># Create an `lgas` object</span></span>
<span><span class="va">lgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lgas.html">lgas</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Legos Island"</span>, <span class="st">"Amuwo Odofin"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: One or more items is not an LGA. Spelling error?</span></span>
<span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="va">lgs</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Successful fix(es):</span></span>
<span><span class="co">#&gt; -------------------</span></span>
<span><span class="co">#&gt; * Legos Island =&gt; Lagos Island</span></span>
<span><span class="co">#&gt; * Amuwo Odofin =&gt; Amuwo-Odofin</span></span>
<span><span class="co">#&gt; [1] "Lagos Island" "Amuwo-Odofin"</span></span>
<span><span class="co">#&gt; attr(,"misspelt")</span></span>
<span><span class="co">#&gt; character(0)</span></span>
<span><span class="co">#&gt; attr(,"regions.fixed")</span></span>
<span><span class="co">#&gt;   Legos Island   Amuwo Odofin </span></span>
<span><span class="co">#&gt; "Lagos Island" "Amuwo-Odofin"</span></span></code></pre></div>
<p>Note that the constructor <code><a href="../reference/lgas.html">lgas()</a></code>, by default, signals a warning when the vector we are supplying has misspelt LGAs. However, to avoid the unnecessary verbosity whilst attempting the fix, this warning is suppressed if <code><a href="../reference/lgas.html">lgas()</a></code> is nested in <code><a href="../reference/fix_region.html">fix_region()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="fu"><a href="../reference/lgas.html">lgas</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Legos Island"</span>, <span class="st">"Amuwo Odofin"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Successful fix(es):</span></span>
<span><span class="co">#&gt; -------------------</span></span>
<span><span class="co">#&gt; * Legos Island =&gt; Lagos Island</span></span>
<span><span class="co">#&gt; * Amuwo Odofin =&gt; Amuwo-Odofin</span></span>
<span><span class="co">#&gt; [1] "Lagos Island" "Amuwo-Odofin"</span></span>
<span><span class="co">#&gt; attr(,"misspelt")</span></span>
<span><span class="co">#&gt; character(0)</span></span>
<span><span class="co">#&gt; attr(,"regions.fixed")</span></span>
<span><span class="co">#&gt;   Legos Island   Amuwo Odofin </span></span>
<span><span class="co">#&gt; "Lagos Island" "Amuwo-Odofin"</span></span></code></pre></div>
<p>When the spelling mistakes depart far from the available LGA spellings, the user is shown a message stating what fixes could not be applied. To now carry out a fix, one can proceed to the next stage.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="fu"><a href="../reference/lgas.html">lgas</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Orange County"</span>, <span class="st">"Amuwo Odofin"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Successful fix(es):</span></span>
<span><span class="co">#&gt; -------------------</span></span>
<span><span class="co">#&gt; * Amuwo Odofin =&gt; Amuwo-Odofin</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Fix(es) not applied:</span></span>
<span><span class="co">#&gt; --------------------</span></span>
<span><span class="co">#&gt; * Orange County</span></span>
<span><span class="co">#&gt; [1] "Orange County" "Amuwo-Odofin" </span></span>
<span><span class="co">#&gt; attr(,"misspelt")</span></span>
<span><span class="co">#&gt; [1] "Orange County"</span></span>
<span><span class="co">#&gt; attr(,"regions.fixed")</span></span>
<span><span class="co">#&gt;   Amuwo Odofin </span></span>
<span><span class="co">#&gt; "Amuwo-Odofin"</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="interactive-fixes">2. Interactive fixes<a class="anchor" aria-label="anchor" href="#interactive-fixes"></a>
</h4>
<p>When the automatic fix is not feasible, the user has the option of doing it interactively by calling <code>fix_region</code> and setting its <code>interactive</code> argument to <code>TRUE</code>. By following the prompts, the misspelt LGA as well as possible replacements are presented. All the user needs to do is to select the desired replacement value. This is particularly useful when the user is not sure of what the correct spelling might be.</p>
<p>When a misspelt LGA has more than one match, the interactive approach is the viable option for effecting fixes. In the example below, not all the mispelt LGAs could be fixed automatically:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mispelt.adamawa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fufure"</span>, <span class="st">"Demsa"</span>, <span class="st">"Machika"</span>, <span class="st">"Fufure"</span>, <span class="st">"Ganye"</span>, <span class="st">"Hong"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># check for misspelt LGAs and, if necessary, attempt to fix</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">mispelt.adamawa</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="../reference/is_lga.html">is_lga</a></span><span class="op">(</span><span class="va">mispelt.adamawa</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="va">corrected.adamawa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="va">mispelt.adamawa</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'Machika' approximately matched more than one region - Michika, Machina</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Successful fix(es):</span></span>
<span><span class="co">#&gt; -------------------</span></span>
<span><span class="co">#&gt; * Fufure =&gt; Fufore</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Fix(es) not applied:</span></span>
<span><span class="co">#&gt; --------------------</span></span>
<span><span class="co">#&gt; * Machika</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="../reference/is_lga.html">is_lga</a></span><span class="op">(</span><span class="va">corrected.adamawa</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<p>We see that the string ‘Machika’ is not an actual LGA and there are more than one possible candidate LGA that are considered as possible replacement. Our original intent was to use “Michika LGA”. To address this mistake, we can run <code>fix_region</code> interactively. Note that the <code>interactive</code> option is only available for use with objects of class <code>lgas</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adamawa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fix_region.html">fix_region</a></span><span class="op">(</span><span class="fu"><a href="../reference/lgas.html">lgas</a></span><span class="op">(</span><span class="va">corrected.adamawa</span><span class="op">)</span>, interactive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Next, the user is provided with a prompt to provide a search item for likely LGAs that would be an appropriate replacement for the misspelt one. Possible replacements are presented and to select any value, the appropriate number should be entered at the prompt. The option <code>RETRY</code> allows the user to restart the query and provide another search term, <code>SKIP</code> is to try out a different misspelt item (where there are more than one) and to <code>QUIT</code> is to exit the prompt. On Windows machines, the user can use the native dialog boxes by setting <code>graphic</code> to <code>TRUE</code>.</p>
<!-- This chunk exists to make available the `adamawa` object which we are using in the subsequent chunk. The code will be replicated and executed with its output displayed in the chunk referring to manual fixes. -->
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Confirm that the spelling mistakes have been fixed.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="../reference/is_lga.html">is_lga</a></span><span class="op">(</span><span class="va">adamawa</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="manual-fixes">3. Manual fixes<a class="anchor" aria-label="anchor" href="#manual-fixes"></a>
</h4>
<p>When spelling errors are identified and the correct one is already known, then a manual fix can be applied. For this, we use the function <code>fix_region_manual</code> and its use is straightforward<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adamawa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fix_region_manual.html">fix_region_manual</a></span><span class="op">(</span><span class="va">corrected.adamawa</span>,</span>
<span>                             wrong <span class="op">=</span> <span class="st">"Machika"</span>,</span>
<span>                             correct <span class="op">=</span> <span class="st">"Michika"</span><span class="op">)</span></span>
<span><span class="va">adamawa</span></span>
<span><span class="co">#&gt; [1] "Fufore"  "Demsa"   "Michika" "Fufore"  "Ganye"   "Hong"</span></span></code></pre></div>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>There is a method for repairing the names of States but the operation is more manageable since there are far fewer States<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Works for both character vectors and <code>lgas</code> objects.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Victor Ordu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
